		   Universal Binary Build on MacOS

0. gettext package (from MacPorts): http://gettext.darwinports.com/
   - Also, it's highly recommended to update svn (sudo port install svn)

1. Install boost from source - download and then extract to a directory
(i.e. boost_1_38_0)
> cd boost_1_38_0
> bjam toolset=darwin variant=debug threading=multi link=static architecture=combined
- Note, there's actually no need to compile boost

If you don't install them in the system directory set the BOOSTINCLUDE env var
to the root of the boost directory:
> export BOOSTINCLUDE=/Users/me/boost_1_38_0
-- This can also be set in ~/.MacOSX/environment.plist (property manager)

2. Download and install WxMac in a local directory
[see http://wiki.wxwidgets.org/Getting_started_on_OS_X]
This seems to be the preferred install method for wxWidgets and allows you to
change settings of the library w/o having to be root and it allows you to have
multiple versions simultaneously with different settings
-- Set WXWIN to point to this directory (makes paths easier to set)

extract the tar to a directory (i.e wxmac [$WXWIN])
> cd $WXWIN
> rm -rf build-ansi
> mkdir build-ansi
> cd build-ansi
configure as a statically linked universal binary containing all builtin libs
to make easier to deploy:
[Note: Due to a bug in wxWidgets, as of 2.8.10, do not use unicode. Formatting
strings does not work properly]
> ../configure --disable-shared --disable-unicode --enable-universal-binary --with-libjpeg=builtin --with-libpng=builtin --with-regex=builtin --with-libtiff=builtin --with-zlib=builtin --with-expat=builtin --disable-compat26 --with-macosx-version-min=10.3.9 --with-macosx-sdk=/Developer/SDKs/MacOSX10.4u.sdk
> make

Now you need to put this version of wx-config on your path so when you make
agilitybook it picks this version of wxMac
> export PATH=$WXWIN/build-ansi:$PATH

Add 
> export CC="gcc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-version-min=10.3.9"
> export CXX="g++ -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-version-min=10.3.9"

I simply created a 'setwxpath' in my root directory and execute:
> . ./setwxpath
before building (it has the 3 'export' line above in it).

3. Build agilitybook as universal binary for PPC and Intel 32 bit architectures
> cd AgilityBook/
> autoconf
> mkdir build
> cd build
> ../configure
> make dist

4a. To package the distribution bundle [optional]
- open /Developer/Applications/Utilities/PackageMaker
- select the Open menu option and open the Package Maker package build/AgilityRecordBook.pmdoc
- select the Build option and save the package wherever you like.

4b. To create a disk image:
- Open /Applications/Utilities/Disk\ Utility
- Create a new image
- Selecting a 40MB image is good, 10 is too small.
- Once mounted, drag AgilityBook.app in. Change the mounted name.
- Unmount
- Click 'Convert' (in Disk Utility) and compress.
