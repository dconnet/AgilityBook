Notes for releasing a new version.

Files to change before marking files for release:
- If file version has changed:
  - If major version has changed, make sure last part of pgm version agrees.
  - Update comments in src/Win/res/AgilityRecordBook.dtd (update website too)
  - Update the version in DefaultConfig.xml
  - Plus: Make sure that the Update() methods have been updated!
    If this is missed, the new data will not be merged.
- If configuration has changed:
  - Same as file version changing above
- Update CD Label (SureThing CD Labeler Deluxe v3.12)
- Update help\html\images\DlgAbout.gif
- History.txt
  Update program version and date, along with any comments.
  - Reflect these changes into help/html/HistoryData.html
  - Run "src\UpdateHistory.py -h"
- Todo.txt
  Any necessary changes...

Run Doxygen and fix any warnings/errors it reports.
  - cd ...\AgilityBook
  - doxygen AgilityBook.dox

Do a full rebuild and verify it.
- Release/Win32
  - AgilityBookSetup
    - Create AgilityBook_n_n_n_n-win.zip files in bin\VC8\Release\Setup.
	- Delete Setup\*.*
    - Modify properties: Package files: In setup file
	- Run setup again (to create single msi)
	- Revert changes to .vdproj file
  - AgilityBookSetup98
    - Create AgilityBook_n_n_n_n-win98.zip files in bin\VC8\Release\Setup98.
- Release/x64
  - AgilityBookSetup64
    - Create AgilityBook_n_n_n_n-x64.zip files in bin\VC8x64\Release\Setup.

Tag SubVersion repository "vn_n_n_n"

Create the files to be distributed (make sure you archive them too)
- Any extra readme files required
- Copy a backup vc6/7/8 .exe/chm images to \AgilityBook\test\vc[678]
  [Currently, I only build vc8]
- Copy AgilityBook_n_n_n_n-*.zip (setup files) to distrib\vN.N.N.N\
- Create AgilityBook_n_n_n_nALT.zip (VC8 AgilityBook.exe/.chm)
  Copy this to distrib\vN.N.N.N\
- Clean out all build artifacts.
- AgilityBook_n_n_n_nsrc.zip
  Copy this to distrib\vN.N.N.N\

In SourceForge, enter the File Releases section in Admin.
- At the bottom of the page, 'Add Release' to 'agilitybook' package.
- Enter all necessary information.
- ftp to upload.sourceforge.net, cd incoming. Set binary mode.
- Upload all files.
  - AgilityBook_n_n_n_nsrc.zip
  - AgilityBook_n_n_n_n-win.zip
  - AgilityBook_n_n_n_n-win98.zip
  - AgilityBook_n_n_n_n-x64.zip
  - Instructions.txt [in ./Misc] [Copy to Readme1st.vn.n.n.n.txt and modify]
- Refresh the web page with the button in Step 2.
- Select the files and press the button again.
- Update all the fields in Step 3.
- Done.

In Yahoo
- Remove all old files.
- Upload all new files.
  - [files/release] History.txt
  - [files/release] Todo.txt
  - [files/release/alternate] AgilityBook_n_n_n_nALT.zip
  - [files/release/alternate] [VC8] vcredist_x86.exe, already there, shouldn't need changing
  - [files/release/alternate] [VC8] xerces-c_2_7.zip, already there
  - [files/release/alternate] Readme.txt [in ./Misc]
  - [files/release/windows] AgilityBook_n_n_n_n.msi/cab/etc
  - [files/release/win98] AgilityBook_n_n_n_n.msi/cab/etc
    DO NOT Announce this file (option on file upload) since it is now multiple.
- Send an email announcing it - send as a 'Special Notice' from Yahoo.

Web Site:
- Update version.txt
  - Update config file (ConfigN.txt)
- Make sure things are current (ongoing task!).
  - Update DTD
  - Update AgilityBook.chm
  - Run "src\UpdateHistory.py -w" (updates history.html)
  - Update bugs.html

Backup:
- Backup development directory onto CD.
  - Remove unnecessary files (build relics, .svn)

Prepare for next release:
- Update src/Win/AgilityBook.rc: VERSIONINFO
- Update History.txt
- Update src/Projects/Win32/VC8/AgilityBookSetup.vdproj
  - Open in VS8, select the setup project on the solutions tab, switch
    to the properties tab and update 'Version'. Say Yes to changing the
    ProductCode/etc GUIDs. (Note, if you decide to change the version
    number later, do not change the ProductCode again) Note: Often
    VERSION.DLL gets unmarked for exclusion - to prevent, do the following
    after changing the version:
    - Rebuild everything (will show version.dll as excluded).
    - Save all changes and exit the program.
    - Start program again and open project (now shown as included).
    - Mark as excluded.
    Things should remain okay now.
- Update src/Projects/Win32/VC8/AgilityBookSetup98/64.vdproj
  - Manually copy the GUIDs from AgilityBookSetup.vdproj
