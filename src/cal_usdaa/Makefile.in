################################################################################
# File: Makefile                                                               #
################################################################################
# Makefile for the cal_usdaa subdirectory                                      #
################################################################################

################################################################################
# Variables required by the global make rules.                                 #
################################################################################
# TOPSRCDIR   - Points to the top level directory of the project.              #
# SRCDIR      - Points to the actual directory where the source code files for #
#               this Makefile exists.                                          #
# VPATH       - Directory to look for source files if not in the current       #
#               directory.  Must be equal to SRCDIR.                           #
# TOPBUILDDIR - The top level directory we initially ran make from, used for   #
#               generating nice output of the working directories.             #
################################################################################
TOPSRCDIR   = @top_srcdir@
SRCDIR      = @srcdir@
VPATH       = @srcdir@
TOPBUILDDIR = ./@top_builddir@

##########
# Compile flags, list include directories
##########
INCLUDES += -I$(TOPSRCDIR)/src -I$(TOPSRCDIR)/src/Include -I$(TOPSRCDIR)/src/ARB `wx-config --cppflags` -fPIC

##########
# List of programs and archives to link
##########
SHAREDLIBS = libcal_usdaa

##########
# Source files for each target
##########
libcal_usdaa_SRCS = CalendarSite.cpp

##########
# Extra libraries for link stage (only if needed)
##########
libcal_usdaa_LDFLAGS = -L$(TOPSRCDIR)/src/tidy/lib  -L$(TOPBUILDDIR)/src/ARB -ltidy -larb `wx-config --libs`

##########
# Precompiled headers
##########
PRECOMP_HEADER = $(TOPSRCDIR)/src/stdafx.h

##########
# Stuff to install
##########
INSTALL_BIN = libcal_usdaa

@NAM_RULES@

all: libcal_usdaa.@SHAREDLIBEXT@

dist:: all $(PHONY)
	#once the plugin will load, we can uncomment these
	#mkdir -p $(TOPBUILDDIR)/AgilityBook.app/Contents/PlugIns/
	#cp libcal_usdaa.@SHAREDLIBEXT@  $(TOPBUILDDIR)/AgilityBook.app/Contents/PlugIns/libcal_usdaa.bundle

################################################################################
# End of File: Makefile                                                        #
################################################################################
